<!DOCTYPE html>
<html>
<head><title>Admin JSON Generator</title></head>
<body style="padding: 20px; font-family: sans-serif;">
    <h2>Generate JSON Undangan</h2>
    <form id="genForm">
        Nama Pria: <input type="text" id="g" required><br><br>
        Nama Wanita: <input type="text" id="b" required><br><br>
        Tanggal (YYYY-MM-DD): <input type="date" id="d" required><br><br>
        Lokasi: <textarea id="l"></textarea><br><br>
        ID Foto Drive (pisahkan koma): <input type="text" id="pics"><br><br>
        <button type="button" onclick="generate()">Download JSON</button>
    </form>

    <script>
        function generate() {
            const pics = document.getElementById('pics').value.split(',');
            const galleryLinks = pics.map(id => `https://drive.google.com/uc?id=${id.trim()}`);
            
            const data = {
                groom: document.getElementById('g').value,
                bride: document.getElementById('b').value,
                date: document.getElementById('d').value,
                location: document.getElementById('l').value,
                gallery: galleryLinks
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], {type: "application/json"});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${data.groom.toLowerCase()}.json`;
            a.click();
        }
    </script>
</body>
</html>